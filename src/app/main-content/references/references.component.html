<!-- references.component.html -->
<section id="reviews" class="review-section">
  <h2 class="review-title">What my colleagues say about me</h2>

  <div class="carousel-container">
    <div class="quote-icon-static">“</div>
    <div class="viewport">
      <ng-container *ngFor="let off of offsets; trackBy: trackByIndex">
        <div
          class="card"
          [ngClass]="{
            'off-prev': off === -2,
            prev: off === -1,
            active: off === 0,
            next: off === 1,
            'off-next': off === 2
          }"
        >
          <p class="text">{{ references[getIndex(off)].text }}</p>

          <div class="author">
            <hr class="review-divider" />
            <span class="name">{{ references[getIndex(off)].author }}</span>
            <span class="role"
              >&nbsp; – {{ references[getIndex(off)].role }}</span
            >
          </div>
        </div>
      </ng-container>
    </div>

    <!-- Controls & Dots -->
    <div class="controls">
      <button class="btn prev-btn" (click)="showPrev()">
        <!-- <img src="../../../assets/icons/references/arrow_back_white.svg" /> -->
      </button>
      <ul class="dots">
        <li
          *ngFor="let r of references; let i = index"
          [class.active]="i === activeIndex"
          (click)="activeIndex = i; rotateOffsetsForDirectSelect(i)"
        ></li>
      </ul>
      <button class="btn next-btn" (click)="showNext()">
        <!-- <img src="../../../assets/icons/references/arrow_forward_white.svg" /> -->
      </button>
    </div>
  </div>
</section>
